<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nyrion Releases</title>
<link rel="stylesheet" href="style.css">
<style>
.tabs {
  display: flex;
  justify-content: center;
  margin-top: 1rem;
  flex-wrap: wrap;
}

.tab {
  padding: 0.8rem 1.5rem;
  margin: 0.2rem;
  cursor: pointer;
  border-radius: 8px;
  background: #1a001a;
  border: 1px solid #6a0dad;
  transition: 0.2s;
}

.tab.active {
  background: #6a0dad;
  color: #fff;
  font-weight: bold;
}

.release-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 2rem;
}

.release-card {
  background: #1a001a;
  border: 1px solid #6a0dad;
  border-radius: 12px;
  padding: 1rem 2rem;
  margin: 1rem 0;
  width: 90%;
  max-width: 600px;
  transition: transform 0.2s;
}

.release-card:hover {
  transform: scale(1.05);
}

.release-name {
  font-size: 1.2rem;
  font-weight: bold;
}

.release-date {
  font-size: 0.9rem;
  color: #b8b8b8;
}
</style>
</head>
<body>

<header>
  <h1>Nyrion Releases</h1>
  <nav>
    <a href="index.html">Home</a>
    <a href="releases.html">Releases</a>
  </nav>
</header>

<div class="tabs" id="tabs">
  <div class="tab active" data-repo="Nyrion">Main</div>
  <div class="tab" data-repo="Grain--Nyrion">Grain</div>
  <div class="tab" data-repo="Nyrion-Aeon">Aeon</div>
  <div class="tab" data-repo="Nyrion-LTS-Atlas">Atlas</div>
  <div class="tab" data-repo="Nyrion-1-Series">Series 1</div>
</div>

<div class="release-container" id="releases">
  <p>Loading releases...</p>
</div>

<script>
const username = "PingunixDevelopments";
const releasesContainer = document.getElementById('releases');
const tabs = document.querySelectorAll('.tab');
let currentRepo = "Nyrion";

async function fetchReleases(repo) {
  try {
    const response = await fetch(`https://api.github.com/repos/${username}/${repo}/releases`);
    const releases = await response.json();

    if (!Array.isArray(releases) || releases.length === 0) {
      releasesContainer.innerHTML = "<p>No releases found.</p>";
      return;
    }

    releasesContainer.innerHTML = "";
    releases.forEach(release => {
      const card = document.createElement('div');
      card.className = 'release-card';
      card.innerHTML = `
        <div class="release-name">${release.name || release.tag_name}</div>
        <div class="release-date">Published on: ${new Date(release.published_at).toLocaleDateString()}</div>
        <p>${release.body ? release.body.substring(0, 200) + "..." : ""}</p>
        <a href="${release.html_url}" target="_blank">View Release</a>
      `;
      releasesContainer.appendChild(card);
    });
  } catch (error) {
    releasesContainer.innerHTML = "<p>Error fetching releases. Try again later.</p>";
    console.error(error);
  }
}

// Tab click handler
tabs.forEach(tab => {
  tab.addEventListener('click', () => {
    tabs.forEach(t => t.classList.remove('active'));
    tab.classList.add('active');
    currentRepo = tab.dataset.repo;
    fetchReleases(currentRepo);
  });
});

// Initial fetch
fetchReleases(currentRepo);
// Auto-refresh every 60 seconds
setInterval(() => fetchReleases(currentRepo), 60000);
</script>

<footer>
  <h3>About Me</h3>
  <p>Check out my GitHub profile: <a href="https://github.com/PingunixDevelopments" target="_blank">PingunixDevelopments</a></p>
</footer>

</body>
</html>
